import { Meta, Canvas, Story } from "@storybook/addon-docs";
import MainPlayer from '../../../src/components/MainPlayer'
import VButton from '../../../src/components/VButton'
import PlaySimple from '../../../src/components/icons/PlaySimple'


<Meta title="Components/Organisms/Main Player"/>

# Main Player
The main audio player must include at a minimum all the elements listed below. Additional elements can be added based on brand specific requirements. The arrangements can be modified based on the audio type (eg. music vs. news). Metadata displayed, such as show name, title, composer, etc., will change based on the audio content and brand.

In order to convey a sense of liveliness that audio is playing live on-air "now," we utilize an animated “Live” indicator and an animated play button as a focal point on the UX. The goal of these design elements is to draw the user's eye and make it very clear how to play what’s currently on.


## Use Cases

Currently, the main audio player is the main component on the WQXR listening-first homepage, fondly referred to as the [WQXR Beta](https://beta.wqxr.org/listen) (formerly known as Jukebox), and provides the primary way to listen to the WQXR FM stream. Beyond the WQXR Beta, WNYC has also implemented a version of this component in the [WNYC Lab](http://lab.wnyc.org) experience, also in a live-streaming context.


## What’s Inside

<Canvas>
  <Story name="Default">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      title="The Takeaway"
      title-link="http://www.google.com"
      details="This week, people in Tulsa filed a lawsuit demanding reparations for victims and descendants of the Tulsa Race Massacre."
      details-link="http://www.bing.com"
      time="3:00 PM - 4:00 PM"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>

1- **Image** - Typically of the Show Art but can also be of Host when Show Art image is not available. If neither apply, this will gracefully fallback to a default image based on the station's logo or a custom placeholder.

2- **Live Indicator** - Tells the user that the Show on-air is live, uses the Live Indicator component. This element is optional and would not be used when displaying on-demand audio.

3- **Program Time** - Lists the start and end time of the program currently on air. Uses the timestamp component. In the context of on-demand audio, this field can show the duration (i.e. 18 mins) of content displayed.

4- **Title / Headline(s)** - Displays the name of the Show currently playing with an optional link out to a show's landing page. This element is optional and will collapse if there is no title/headline available.

5- **Description** - Futher information about the show or episode can go here with an optional link out to the episode page of what is currently playing. In the case of WNYC, this will display the episode title of the audio currently playing. This element is optional and will collapse if there is no title/headline available.

6- **Play Button** -  Icon button clicked to play the livestream, can include text if need be according to our icon button rules.


## States
The most important indicator between our played and paused state is the Play/Pause button. Use icons accordingly to indicate if a stream is playing or not.
### Paused / Not Yet Played
<img alt="text" src="./images/Organisms-MainPlayer-PausedState.png" width="600" />

### Playing
<img alt="text" src="./images/Organisms-MainPlayer-PlayingState.png" width="600" />


## Variants

### **WQXR**
<img alt="WQXR variation of the main player" src="./images/Organisms-MainPlayer-WQXR.png" width="600" />

The main audio player for WQXR Jukebox is meant to provide a relaxing and immersive audio focused experience for live streaming classical music.


### **WNYC Lab**
<img alt="WNYC variation of the main player" src="./images/Organisms-MainPlayer-WNYC.png" width="600" />

The main audio player in our WNYC experience is used to communicate what’s currently on air in a quick and digestible fashion, highlighting recognizable metadata like Show Art and Show Title.

## Accessibility
Text should have appropriate tags so users with screen readers can quickly understand the important elements on the page, such as show name and play button.

## Testing and Iterations
Any updates/progress to this component can be listed out here. Maybe eventually this will be automated.

## Other Configurations

### **Without Title**
<Canvas>
  <Story name="WithoutTitle">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      details="<p><strong>A wrap-up</strong> of the day&rsquo;s news, with features and interviews about the latest developments in New York City and around the world, from NPR and the WNYC newsroom.</p>"
      details-link="http://www.bing.com"
      file="http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"
      time="3:00 PM - 4:00 PM"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>

### **Without Details**
<Canvas>
  <Story name="WithoutDetails">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      title="The Takeaway"
      title-link="http://www.google.com"
      file="http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"
      time="3:00 PM - 4:00 PM"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>

### **Without Title Link**

<Canvas>
  <Story name="WithoutTitleLink">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      title="The Takeaway"
      details="This week, people in Tulsa filed a lawsuit demanding reparations for victims and descendants of the Tulsa Race Massacre."
      details-link="http://www.bing.com"
      file="http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"
      time="3:00 PM - 4:00 PM"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>

### **Without Details Link**

<Canvas>
  <Story name="WithoutDetailsLink">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      title="The Takeaway"
      title-link="http://www.google.com"
      details="This week, people in Tulsa filed a lawsuit demanding reparations for victims and descendants of the Tulsa Race Massacre."
      file="http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"
      time="3:00 PM - 4:00 PM"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>


### **Without Time**

<Canvas>
  <Story name="WithoutTime">
    {{
      components: {
    MainPlayer,
    VButton,
    PlaySimple
  },
  template: `
    <main-player
      image="./images/Placeholder-Image-1_1.png"
      title="The Takeaway"
      title-link="http://www.google.com"
      details="This week, people in Tulsa filed a lawsuit demanding reparations for victims and descendants of the Tulsa Race Massacre."
      details-link="http://www.bing.com"
    >
    <v-button label="Listen Live">
      <play-simple />
    </v-button>
    </main-player>
  `,
    }}
  </Story>
</Canvas>
